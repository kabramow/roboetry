

def wrap_string_in_html(program, poem_words, text):
    from webbrowser import open_new_tab

    filename = program + '.html'
    f = open(filename,'w')

    wrapper = """<html>
    <head>
        <title>%s output</title>
        <style>
            body {
                font-family: Georgia;
            }            
            #poem {
                background-color: white;
                color: black;
            }
            #blackout {
                background-color: black;
                color: black;
            }
        </style>
    </head>
        <body>
            <p id=\"title\">
                Poem Generated By 
                <a href=\"https://github.com/kabramow/roboetry\">Roboetry</a> 
                from *****INSERT REF TO SOURCE MATERIAL
            </p>
            <div id=\"blackout\"><p>%s</p></div>
        </body>
    </html>"""

    whole = wrapper % (program, body_generator(poem_words, text))
    f.write(whole)
    f.close()

    open_new_tab(filename)


def body_generator(poem_words, text):
    #text.replace('\n', "</p><p id=\"blackout\">")
    text_words = text.split(" ")
    print(text_words)
    out_text = ""
    for word in text_words:
        if len(poem_words) != 0:
            if word == poem_words[0]:
                print("here")
                poem_words = poem_words[1:]
                out_text += "<span id=\"poem\">" + word + "</span>" + " "
            elif word == "\n":
                out_text += "</p><p>"
            else:
                out_text += word + " "
        elif word == "\n":
            out_text += "</p><p>"
        else:
            out_text += word + " "

    return out_text
